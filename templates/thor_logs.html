<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Thor Application Logs</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/thor_style.css') }}">
</head>
<body class="dark-theme">
    <div class="container">
        {% include 'nav.html' %}
        <h1>Thor Application Logs</h1>

        <div class="filter-bar">
            <span>Filter by level:</span>
            <a href="{{ url_for('view_logs') }}" class="{{ 'active' if not current_level }}">All</a>
            {% for level in log_levels %}
                <a href="{{ url_for('view_logs', level=level) }}" class="{{ 'active' if current_level == level }}">{{ level }}</a>
            {% endfor %}
        </div>

        <table id="log-table">
            <thead>
                <tr>
                    <th style="width: 180px;">Timestamp</th>
                    <th style="width: 100px;">Level</th>
                    <th style="width: 140px;">Thread</th>
                    <th>Message</th>
                </tr>
            </thead>
            <tbody id="logs-table-body">
                {% for log in logs %}
                <tr>
                    <td>{{ log.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                    <td class="log-level-{{ log.level }}">{{ log.level }}</td>
                    <td>{{ log.thread_name }}</td>
                    <td>{{ log.message }}</td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="4">No log entries found{% if current_level %} for level '{{ current_level }}'{% endif %}.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <script src="{{ url_for('static', filename='js/thor_script.js') }}"></script>
</body>
</html>